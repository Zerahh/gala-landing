<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tiempo restante para La Gala</title>

  <!-- Meta description -->
  <meta name="description" content="El tiempo se acaba... pronto comenzarÃ¡ La Gala." />

  <!-- Open Graph -->
  <meta property="og:title" content="Tiempo restante para La Gala" />
  <meta property="og:description" content="El tiempo se acaba... pronto comenzarÃ¡ La Gala." />
  <meta property="og:url" content="https://zerahh.github.io/gala-landing/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://zerahh.github.io/gala-landing/og-hero.jpg" />
  <meta property="og:image:secure_url" content="https://zerahh.github.io/gala-landing/og-hero.jpg" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Tiempo restante para La Gala" />
  <meta name="twitter:description" content="El tiempo se acaba... pronto comenzarÃ¡ La Gala." />
  <meta name="twitter:image" content="https://zerahh.github.io/gala-landing/og-hero.jpg" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root { --accent:#e6c46a; --text:#f5f5f5; --bg:#0b0b0d; }
    * { box-sizing: border-box; } html, body { height: 100%; }
    body { margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, 'Noto Sans'; color:var(--text); background:var(--bg); overflow:hidden; }
    .stage { position:relative; width:100%; height:100dvh; display:grid; place-items:center; isolation:isolate; }
    .bg-video { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:-2; filter:saturate(1.05) contrast(1.05); }
    .scrim { position:absolute; inset:0; background: radial-gradient(120% 120% at 50% 50%, rgba(0,0,0,.15), rgba(0,0,0,.65) 60%, rgba(0,0,0,.85)); z-index:-1; }
    .wrap { text-align:center; padding-inline:clamp(16px,4vw,48px); max-width:1200px; width:100%; }
    .title { font-family:'Playfair Display', serif; font-weight:700; margin:0 0 8px 0; font-size:clamp(28px,6vw,64px); text-shadow:0 2px 20px rgba(0,0,0,.55); transition: color .3s ease, text-shadow .3s ease; }
    .title.last-minute { color: var(--accent); text-shadow:0 0 28px rgba(230,196,106,.55), 0 2px 20px rgba(0,0,0,.55); }
    .subtitle { margin:0 0 10px 0; font-weight:400; opacity:.9; min-height:1.4em; }
    .motto { margin:0 0 22px 0; opacity:.85; font-style:italic; min-height:1.4em; }

    .timer { display:grid; grid-auto-flow:column; gap:clamp(12px,2.5vw,24px); justify-content:center; align-items:start; margin:16px auto 28px; user-select:none; }
    .unit { min-width:clamp(70px,18vw,160px); padding:clamp(10px,2.2vw,18px); background:rgba(0,0,0,.35); backdrop-filter:blur(6px); border:1px solid rgba(255,255,255,.08); border-radius:18px; box-shadow:0 6px 24px rgba(0,0,0,.3), inset 0 0 0 1px rgba(255,255,255,.06); }
    .value { font-variant-numeric:tabular-nums; font-size:clamp(28px,8vw,72px); line-height:1; font-weight:700; font-family:'Playfair Display', serif; color:var(--accent); text-shadow:0 2px 16px rgba(0,0,0,.45); display:inline-block; }
    .value.tick { animation: tick .42s ease; }
    @keyframes tick {
      0% { transform: translateY(0) scale(1); filter:brightness(1); }
      40% { transform: translateY(-4px) scale(1.06); filter:brightness(1.25); }
      100% { transform: translateY(0) scale(1); filter:brightness(1); }
    }
    .label { margin-top:6px; font-size:clamp(11px,2.2vw,14px); text-transform:uppercase; letter-spacing:.12em; opacity:.9; }

    .actions { display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:10px; }
    .btn { border:1px solid rgba(230,196,106,.35); background:rgba(14,14,16,.55); color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600; transition:transform .08s ease, background .15s ease, border-color .15s ease; backdrop-filter:blur(4px); }
    .btn:hover { border-color:var(--accent); } .btn:active { transform:scale(.98); }
    .footer { position:absolute; bottom:14px; width:100%; text-align:center; font-size:12px; opacity:.7; }

    /* Spotify */
    .spotify-btn {
      position: fixed; bottom: 20px; right: 20px;
      background: #1db954; color: white; font-weight: bold;
      padding: 12px 18px; border-radius: 30px; text-decoration: none;
      font-family: 'Inter', sans-serif; font-size: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,.3);
      transition: background .2s ease, transform .2s ease;
      z-index: 9999;
    }
    .spotify-btn:hover { background: #1ed760; transform: scale(1.05); }
  </style>
</head>
<body>
  <main class="stage" aria-label="Landing de La Gala">
    <video id="bg" class="bg-video" autoplay muted loop playsinline poster="poster.jpg">
      <source src="video pÃ¡gina.webm" type="video/webm" />
      <source src="video pÃ¡gina.mp4" type="video/mp4" />
    </video>
    <div class="scrim" aria-hidden="true"></div>
    <section class="wrap" role="region" aria-live="polite">
      <h1 class="title" id="title">Tiempo restante para La Gala</h1>
      <p class="subtitle" id="dynamic-sub">Cuenta regresiva para el gran evento</p>
      <p class="motto" id="motto"></p>

      <div class="timer" id="timer">
        <div class="unit"><div class="value" id="d">00</div><div class="label">DÃ­as</div></div>
        <div class="unit"><div class="value" id="h">00</div><div class="label">Horas</div></div>
        <div class="unit"><div class="value" id="m">00</div><div class="label">Minutos</div></div>
        <div class="unit"><div class="value" id="s">00</div><div class="label">Segundos</div></div>
      </div>

      <div class="actions">
        <button class="btn" id="muteBtn">Activar sonido</button>
        <a id="share" class="btn" href="#">Compartir</a>
      </div>
    </section>
    <div class="footer">Â© <span id="year"></span> La Gala â€” Minecraft</div>
  </main>

  <!-- BotÃ³n de Spotify -->
  <a href="https://open.spotify.com/playlist/667pJ8ghnKVWUZqSotTCYy?si=574a97ebadc548d1" 
     target="_blank" 
     class="spotify-btn" 
     aria-label="Abrir La Playlist de La Gala en Spotify">
    ðŸŽ· La Playlist de La Gala
  </a>

  <script>
    // ConfiguraciÃ³n
    const GALA_ISO = '2025-09-07T22:00:00-03:00'; // Montevideo (-03:00)
    const target = new Date(GALA_ISO);

    // Elementos
    const dEl = document.getElementById('d'), hEl = document.getElementById('h'), mEl = document.getElementById('m'), sEl = document.getElementById('s');
    const titleEl = document.getElementById('title');
    const subEl = document.getElementById('dynamic-sub');
    const mottoEl = document.getElementById('motto');
    const pad = n => String(n).padStart(2,'0');

    // Frases inspiracionales (rotativas)
    const FRASES = [
      "La elegancia es la Ãºnica belleza que nunca se desvanece.",
      "Cada detalle cuenta; cada segundo nos acerca.",
      "La noche nos llama a celebrar con altura.",
      "Lo extraordinario estÃ¡ en la forma de hacerlo.",
      "La Gala comienza en el corazÃ³n antes que en el reloj."
    ];
    let fraseIdx = 0;
    function rotaFrase(){
      mottoEl.textContent = FRASES[fraseIdx % FRASES.length];
      fraseIdx++;
    }
    rotaFrase();
    setInterval(rotaFrase, 25000);

    // Hover sonoro sutil en el botÃ³n de Spotify (Web Audio)
    (function setupDing(){
      const btn = document.querySelector('.spotify-btn');
      if(!window.AudioContext) return;
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      function ding(){
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type = 'sine';
        o.frequency.setValueAtTime(880, ctx.currentTime);      // tono inicial
        o.frequency.exponentialRampToValueAtTime(1320, ctx.currentTime + 0.08);
        g.gain.setValueAtTime(0.0008, ctx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.00001, ctx.currentTime + 0.15);
        o.connect(g).connect(ctx.destination);
        o.start(); o.stop(ctx.currentTime + 0.16);
      }
      btn.addEventListener('mouseenter', () => {
        if (ctx.state === 'suspended') ctx.resume();
        ding();
      });
    })();

    // Contador + animaciÃ³n de cambio + Ãºltimo minuto + mensaje final
    let last = {d:null,h:null,m:null,s:null};
    function render(diffMs){
      if (diffMs <= 0){
        dEl.textContent = hEl.textContent = mEl.textContent = sEl.textContent = '00';
        titleEl.classList.remove('last-minute');
        titleEl.textContent = 'âœ¨ Â¡Bienvenidos a La Gala! âœ¨';
        subEl.textContent = 'Es momento de celebrar.';
        mottoEl.textContent = 'Gracias por ser parte.';
        return;
      }
      const sec = Math.floor(diffMs/1000);
      const vals = {
        d: Math.floor(sec/86400),
        h: Math.floor((sec%86400)/3600),
        m: Math.floor((sec%3600)/60),
        s: Math.floor(sec%60)
      };
      // last minute effect
      if (sec <= 60) titleEl.classList.add('last-minute');
      else titleEl.classList.remove('last-minute');

      // mensajes de proximidad
      if (sec < 3600) subEl.textContent = "Ãšltimos instantesâ€¦ tomen asiento âœ¨";
      else if (sec < 6*3600) subEl.textContent = "Las luces se ajustanâ€¦ la noche nos espera";
      else if (sec < 2*86400) subEl.textContent = "Falta muy pocoâ€¦ preparen su mejor outfit";
      else subEl.textContent = "Cuenta regresiva para el gran evento";

      // apply values and animate changes
      for (const k of ['d','h','m','s']){
        const el = ({d:dEl,h:hEl,m:mEl,s:sEl})[k];
        const v = pad(vals[k]);
        if (last[k] !== v){
          el.textContent = v;
          el.classList.remove('tick');
          void el.offsetWidth; // reflow para reiniciar animaciÃ³n
          el.classList.add('tick');
          last[k] = v;
        }
      }
    }

    function tick(){
      const now = new Date();
      const diff = target - now;
      render(diff);
    }
    tick(); setInterval(tick, 1000);

    // Botones existentes
    const bg=document.getElementById('bg'), muteBtn=document.getElementById('muteBtn');
    muteBtn.addEventListener('click',()=>{ bg.muted=!bg.muted; muteBtn.textContent=bg.muted?'Activar sonido':'Silenciar'; });
    const shareBtn=document.getElementById('share');
    shareBtn.addEventListener('click',e=>{ e.preventDefault(); const data={title:'La Gala â€” Minecraft', text:'Sumate a La Gala. Contador en vivo y video de fondo.', url:location.href}; if(navigator.share){ navigator.share(data); } else { navigator.clipboard?.writeText(data.url); shareBtn.textContent='Copiado âœ“'; setTimeout(()=>shareBtn.textContent='Compartir',1500); } });

    // Fecha legible
    document.getElementById('year').textContent=new Date().getFullYear();
    const whenEl=document.getElementById('when'); try{ const opts={dateStyle:'full', timeStyle:'short'}; const tz=Intl.DateTimeFormat().resolvedOptions().timeZone; whenEl.textContent=`Comienza: ${new Intl.DateTimeFormat(undefined,opts).format(target)} â€” Tu zona: ${tz}`; }catch(_){ whenEl.textContent=''; }
  </script>
</body>
</html>